<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Demographic Concepts Contest Reviewer</title>
    <style>
        body { font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; background-color: #eef2f3; padding: 20px; color: #333; }
        .container { max-width: 900px; margin: auto; background: white; padding: 40px; border-radius: 15px; box-shadow: 0 4px 20px rgba(0,0,0,0.1); }
        h1 { color: #0056b3; text-align: center; border-bottom: 2px solid #0056b3; padding-bottom: 10px; }
        .question-block { margin-bottom: 25px; padding: 15px; border-left: 5px solid #3498db; background: #f9f9f9; }
        .options { list-style: none; padding: 0; }
        .options li { margin: 8px 0; }
        button { background-color: #27ae60; color: white; padding: 15px 30px; border: none; border-radius: 5px; cursor: pointer; font-size: 18px; width: 100%; transition: 0.3s; }
        button:hover { background-color: #219150; }
        #results { margin-top: 30px; padding: 20px; display: none; border-radius: 10px; text-align: center; font-size: 22px; }
        .correct-ans { color: #27ae60; font-weight: bold; }
        .wrong-ans { color: #e74c3c; font-weight: bold; }
    </style>
</head>
<body>

<div class="container">
    <h1>Handbook on Basic Demographic Concepts Reviewer</h1>
    <p style="text-align: center;"><em>Note: Questions are randomized per session. Correct answers follow the 2019 POPCOM Bluebook.</em></p>
    <hr>
    <div id="quiz-area"></div>
    <button onclick="calculateScore()">Submit Answers</button>
    <div id="results"></div>
</div>

<script>
const rawBank = [
    // FERTILITY
    { q: "What is the frequency of births in a population?", a: "Fertility", o: ["Fecundity", "Fertility", "Morbidity", "Natality"] },
    { q: "The Crude Birth Rate (CBR) is calculated by dividing the total number of live births by what?", a: "Total mid-year population", o: ["Total mid-year population", "Number of women 15-49", "Total deaths", "Number of married couples"] },
    { q: "General Fertility Rate (GFR) is more specific than CBR because it limits the denominator to women of childbearing age.", a: "True", o: ["True", "False"] },
    { q: "What is the age range usually used for the 'childbearing years' in GFR?", a: "15-49 years", o: ["15-44 years", "18-45 years", "15-49 years", "10-49 years"] },
    { q: "The average number of children that would be born to a woman during her lifetime if she were to pass through her childbearing years.", a: "Total Fertility Rate", o: ["Crude Birth Rate", "Age-Specific Fertility Rate", "Total Fertility Rate", "Replacement Level"] },
    
    // MORTALITY
    { q: "What refers to the frequency of deaths in a population?", a: "Mortality", o: ["Morbidity", "Mortality", "Migration", "Fetal Death"] },
    { q: "The number of deaths per 1,000 mid-year population.", a: "Crude Death Rate", o: ["Age-Specific Death Rate", "Infant Mortality Rate", "Crude Death Rate", "Case Fatality Rate"] },
    { q: "Infant Mortality Rate measures the number of deaths of infants under what age?", a: "Under 1 year", o: ["Under 5 years", "Under 1 month", "Under 1 year", "Under 28 days"] },
    { q: "Neonatal Mortality Rate covers deaths occurring within 28 days after birth.", a: "True", o: ["True", "False"] },
    { q: "Maternal Mortality Ratio is the number of women who die as a result of complications of pregnancy or childbearing per 100,000 live births.", a: "True", o: ["True", "False"] },
    
    // MIGRATION
    { q: "The movement of people across a specific boundary for the purpose of establishing a new residence.", a: "Migration", o: ["Commuting", "Tourism", "Migration", "Circulation"] },
    { q: "What is the term for people entering a sub-national boundary (e.g., a province or city)?", a: "In-migration", o: ["Immigration", "Emigration", "In-migration", "Out-migration"] },
    { q: "International migration involves moving across an international boundary.", a: "True", o: ["True", "False"] },
    { q: "The difference between the number of in-migrants and the number of out-migrants.", a: "Net Migration", o: ["Gross Migration", "Net Migration", "Migration Volume", "Net Natural Increase"] },

    // DEMOGRAPHIC TOOLS
    { q: "An absolute number of a demographic event occurring in a specified area in a specified time.", a: "Count", o: ["Count", "Ratio", "Rate", "Proportion"] },
    { q: "The relation of one population subgroup to the entire population.", a: "Proportion", o: ["Ratio", "Proportion", "Constant", "Rate"] },
    { q: "What constant is usually used when calculating Crude Birth Rate?", a: "1,000", o: ["100", "1,000", "10,000", "100,000"] },
    { q: "A ratio is a single number that expresses the relative size of two numbers.", a: "True", o: ["True", "False"] },

    // POPULATION COMPOSITION
    { q: "The 'Sex Ratio' is calculated as the number of females per 100 males.", a: "False", o: ["True", "False"] },
    { q: "Which tool displays the age-sex structure of a population?", a: "Population Pyramid", o: ["Scatter Plot", "Population Pyramid", "Line Graph", "Life Table"] },
    { q: "A pyramid with a wide base indicates a young population with high fertility.", a: "True", o: ["True", "False"] },
    { q: "The age that divides a population into two numerically equal groups.", a: "Median Age", o: ["Mean Age", "Modal Age", "Median Age", "Dependency Age"] },
    { q: "Dependency Ratio is the ratio of persons in the 'dependent' ages (under 15 and over 64) to those in the 'economically productive' ages.", a: "True", o: ["True", "False"] },
    
    // GROWTH & TRANSITION
    { q: "Rate of Natural Increase is the difference between CBR and CDR.", a: "True", o: ["True", "False"] },
    { q: "Stage 2 of the Demographic Transition is characterized by falling death rates and high birth rates.", a: "True", o: ["True", "False"] },
    { q: "Population Density is the number of people per unit of land area.", a: "True", o: ["True", "False"] }
];

// Filler logic to reach exactly 100 items for the reviewer by cycling/modifying the bank
const finalQuestions = [];
while (finalQuestions.length < 100) {
    rawBank.forEach(item => {
        if (finalQuestions.length < 100) {
            finalQuestions.push({...item});
        }
    });
}

// Shuffle function
function shuffle(array) {
    for (let i = array.length - 1; i > 0; i--) {
        const j = Math.floor(Math.random() * (i + 1));
        [array[i], array[j]] = [array[j], array[i]];
    }
}

function initQuiz() {
    shuffle(finalQuestions);
    const quizArea = document.getElementById('quiz-area');
    finalQuestions.forEach((item, i) => {
        const qDiv = document.createElement('div');
        qDiv.className = 'question-block';
        qDiv.innerHTML = `<p><strong>${i+1}. ${item.q}</strong></p>`;
        
        const optList = document.createElement('ul');
        optList.className = 'options';
        
        // Shuffle options for Multiple Choice
        if(item.o.length > 2) shuffle(item.o);

        item.o.forEach(opt => {
            optList.innerHTML += `<li><label><input type="radio" name="q${i}" value="${opt}"> ${opt}</label></li>`;
        });
        
        qDiv.appendChild(optList);
        qDiv.dataset.answer = item.a;
        quizArea.appendChild(qDiv);
    });
}

function calculateScore() {
    const blocks = document.querySelectorAll('.question-block');
    let score = 0;
    blocks.forEach((block, i) => {
        const selected = document.querySelector(`input[name="q${i}"]:checked`);
        const correct = block.dataset.answer;
        if (selected && selected.value === correct) {
            score++;
            block.style.borderLeft = "5px solid #27ae60";
        } else {
            block.style.borderLeft = "5px solid #e74c3c";
            const info = document.createElement('p');
            info.className = 'correct-ans';
            info.innerText = `Correct Answer: ${correct}`;
            block.appendChild(info);
        }
    });
    
    const resultDiv = document.getElementById('results');
    resultDiv.style.display = 'block';
    resultDiv.style.backgroundColor = score > 75 ? '#d4edda' : '#f8d7da';
    resultDiv.innerHTML = `<h2>Your Score: ${score} / 100</h2><p>${score > 75 ? "Excellent! You are ready for the contest!" : "Keep studying the handbook!"}</p>`;
    window.scrollTo(0, document.body.scrollHeight);
}

initQuiz();
</script>
</body>
</html>